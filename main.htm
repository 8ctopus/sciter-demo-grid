<html
    window-resizable="true"
>
<head>
<title>sciter layout demo</title>
<style>

html {
    size: max-content;
}

body {
    margin: 0;

    vertical-align: middle;
    text-align: center;
}

header {
    width: *;
    height: max-content;

    padding: 8dip;

    flow: horizontal;

    background: rgb(230,230,230);
}

header > button {
    margin: 0 *;
}

</style>
<script src="js/utils.js" />
<script type="module">

// import functions from sciter libraries
import * as sys from "@sys";
import {decode} from "@sciter";

document.on("ready", function() {
    // list directory contents
    const list = sys.fs.$readdir("layouts");

    const files = [];

    // iterate content
    for (const file of list) {
        // ignore directories
        if (file.type !== 1)
            continue;

        // add layout
        files.push(file.name.replace(".html", ""));
    }

    // get element to append buttons to
    const parent = document.$("header");

    // loop through files
    for (const file of files) {
        // create button
        const button = "<button>" + file + "</button>";

        // add button to ui
        parent.append(button);
    }
});

/// header button click
document.on("click", "header > button", function(event, button) {
    // get file name from button
    const file = "layouts/" + button.innerHTML + ".html";

    // read file
    const buffer = sys.fs.$readfile(file);

    // decode buffer
    const html = decode(buffer, "utf-8");

    // get element to insert code in
    const include = document.$("body");

    // insert code
    include.innerHTML = html;
});

</script>
</head>
<header>
    <!-- buttons -->
</header>
<body>
    Click the buttons to explore the various layout possibilites with sciter.
</body>
</html>
